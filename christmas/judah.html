<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>üéÑ</title>
  <style>
    :root{
      /* Peaceful Night Sky (Scandi Christmas) */
      --bg1:#050916;           /* deep navy */
      --bg2:#07122a;           /* midnight */
      --bg3:#0b1a33;           /* soft horizon navy */
      --card:#ffffff10;
      --card2:#ffffff08;
      --text:#f4f2ed;
      --muted:#e7e2d6cc;
      --gold:#d8c38a;
      --red:#8f2f2b;
      --green:#1f3d32;
      --shadow: 0 20px 60px #00000066;

      /* scratch overlay */
      --scratch:#cfd2d6;       /* base silver */
      --scratchInk:rgba(20,24,28,.55);
      --meta:#b9a99bd9;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      color:var(--text);
      font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI";
      overflow:hidden;
      background:
        radial-gradient(1000px 700px at 20% 15%, #1a2b5a55 0%, transparent 60%),
        radial-gradient(900px 650px at 85% 25%, #2a1c2450 0%, transparent 58%),
        radial-gradient(1200px 800px at 50% 110%, #0b1a3355 0%, transparent 62%),
        linear-gradient(160deg, var(--bg1), var(--bg2) 55%, var(--bg3));
    }

    /* gentle aurora-ish light, now tuned for night sky */
    .aurora{
      position:fixed; inset:-20%;
      background:
        radial-gradient(closest-side at 25% 30%, #ffffff10, transparent 66%),
        radial-gradient(closest-side at 60% 35%, #d8c38a10, transparent 72%),
        radial-gradient(closest-side at 70% 60%, #3b4a8a14, transparent 74%),
        radial-gradient(closest-side at 40% 75%, #8f2f2b10, transparent 76%);
      filter: blur(34px);
      animation: drift 16s ease-in-out infinite alternate;
      pointer-events:none;
      z-index: 1;
    }
    @keyframes drift{
      from{transform:translate3d(-2%, -1%, 0) scale(1.02) rotate(-2deg)}
      to{transform:translate3d(2%, 1%, 0) scale(1.05) rotate(2deg)}
    }

    /* Star Timelapse Canvas */
    #starfield {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 2; /* Above aurora, below card */
    }
    
    /* Respect prefers-reduced-motion: show a static starfield */
    @media (prefers-reduced-motion: reduce) {
      .aurora {
        animation: none;
      }
      #starfield {
        background-image:
          radial-gradient(1px 1px at 20px 30px, #fff, transparent),
          radial-gradient(1px 1px at 40px 70px, #ddd, transparent),
          radial-gradient(2px 2px at 50px 50px, #eee, transparent),
          radial-gradient(1px 1px at 80px 10px, #fff, transparent),
          radial-gradient(1px 1px at 130px 80px, #ddd, transparent),
          radial-gradient(2px 2px at 110px 120px, #fff, transparent);
        background-size: 200px 200px;
        background-repeat: repeat;
      }
    }

    /* Star in the East: now at the top center */
    .star-east{
      position:fixed;
      left: 50%; /* Center horizontally */
      top: clamp(18px, 4vh, 56px);
      width: 18px;
      height: 18px;
      pointer-events:none;
      z-index:3; /* Ensure it's above the starfield canvas */
      filter: drop-shadow(0 0 18px rgba(216,195,138,.55))
              drop-shadow(0 0 42px rgba(216,195,138,.25));
      animation: twinkle 3.8s ease-in-out infinite;
    }
    .star-east:before, .star-east:after{
      content:"";
      position:absolute; inset:0;
      background: radial-gradient(circle at 50% 50%, #fff 0 22%, #d8c38a 40%, transparent 72%);
      border-radius:50%;
    }
    .star-east:after{
      content:"";
      position:absolute;
      left:50%; top:50%;
      width: 80px; height: 2px;
      transform: translate(-50%,-50%);
      background: linear-gradient(90deg, transparent, rgba(216,195,138,.45), transparent);
      filter: blur(.2px);
    }
    .star-east i{
      position:absolute;
      left:50%; top:50%;
      width:2px; height:80px;
      transform: translate(-50%,-50%);
      background: linear-gradient(180deg, transparent, rgba(216,195,138,.35), transparent);
      display:block;
    }
    @keyframes twinkle{
      /* Keep centered while scaling */
      0%,100%{transform:translateX(-50%) scale(1); opacity:.85}
      50%{transform:translateX(-50%) scale(1.08); opacity:1}
    }

    .wrap{
      min-height:100vh;
      display:grid;
      place-items:center;
      padding:24px;
      position:relative;
      z-index:4;
    }

    .card{
      width:min(820px, 92vw);
      border-radius:28px;
      background: linear-gradient(180deg, var(--card), var(--card2));
      border: 1px solid #ffffff1a;
      box-shadow: var(--shadow);
      padding: clamp(22px, 4vw, 42px);
      backdrop-filter: blur(14px);
      position:relative;
      overflow:hidden;
    }

    .card:before{
      content:"";
      position:absolute; inset:0;
      border-radius:28px;
      padding:1.5px;
      background: linear-gradient(90deg, #d8c38a55, #ffffff22, #3b4a8a55, #8f2f2b55);
      -webkit-mask:
        linear-gradient(#000 0 0) content-box,
        linear-gradient(#000 0 0);
      -webkit-mask-composite: xor;
              mask-composite: exclude;
      pointer-events:none;
    }

    .toprow{
      display:flex;
      justify-content:center; /* Centered the badge */
      align-items:center;
      gap:14px;
      margin-bottom:16px;
      flex-wrap:wrap;
    }

    .badge{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:10px 14px;
      border-radius:999px;
      background:#00000022;
      border:1px solid #ffffff1a;
      font-weight:800;
      letter-spacing:.04em;
      color: var(--gold);
    }

    .sub{
      margin:0 0 14px;
      text-align:center;
      color:var(--muted);
      font-size: clamp(16px, 2.7vw, 20px);
      line-height:1.45;
      text-transform: lowercase;
    }

    .nameWrap{
      position:relative;
      margin: 10px auto 12px;
      width: min(720px, 100%);
      height: clamp(120px, 22vh, 180px);
      border-radius:22px;
      border:1px solid #ffffff1a;
      background:#00000018;
      overflow:hidden;
      display:grid;
      place-items:center;
    }

    .name{
      font-weight:950;
      letter-spacing:.06em;
      line-height:1;
      font-size: clamp(58px, 10vw, 120px);
      text-align:center;
      text-shadow: 0 0 22px #ffffff10, 0 0 40px #d8c38a10;
    }

    canvas#scratch{
      position:absolute; inset:0;
      width:100%; height:100%;
      touch-action:none;
    }

    .from{
      text-align:center;
      margin-top:10px;
      margin-bottom:28px;
      color:var(--muted);
      font-weight:700;
      letter-spacing:.02em;
      font-size: clamp(15px, 2.6vw, 20px);
    }

    .from strong{
      color:var(--text);
      font-size:1.15em;
      font-weight:800;
    }

    .faith{
      text-align:center;
      text-transform:uppercase;
      letter-spacing:.06em;
      font-size: clamp(12px, 2.2vw, 16px);
      color: var(--muted);
      margin-top: 40px; /* Added more space before the verses */
    }

    .verse + .verse{ margin-top:18px; }

    .quote{
      color: var(--gold);
      font-weight:800;
    }

    .ref{
      margin-top:6px;
      color: var(--muted);
      font-weight:800;
      letter-spacing:.10em;
    }

    .meta{
      margin-top:6px;
      color: var(--meta);
      font-weight:700;
      letter-spacing:.04em;
      text-transform:none;
      font-size:0.92em;
    }
  </style>
</head>

<body>
  <div class="aurora"></div>
  <!-- Star Timelapse Canvas -->
  <canvas id="starfield"></canvas>

  <!-- One star in the east, now centered -->
  <div class="star-east" aria-hidden="true"><i></i></div>

  <div class="wrap">
    <div class="card">

      <div class="toprow">
        <div class="badge">Merry Christmas ‚ú∂‚òß</div>
      </div>

      <p class="sub">this present is for...</p>

      <div class="nameWrap" id="wrapScratch">
        <div class="name">JUDAH</div>
        <canvas id="scratch"></canvas>
      </div>

      <div class="from">from <strong>Uncle Dantan</strong> &amp; <strong>Auntie Hannah</strong>&nbsp;&nbsp;</div>

      <div class="faith">
        <div class="verse">
          <div class="quote">‚ÄúFor unto us a child is born.‚Äù</div>
          <div class="ref">‚Äî ISAIAH 9:6</div>
          <div class="meta">(written 700+ years before Jesus was born!)</div>
        </div>

        <div class="verse">
          <div class="quote">‚ÄúFor unto you is born‚Ä¶ a Savior.‚Äù</div>
          <div class="ref">‚Äî LUKE 2:11</div>
          <div class="meta">(written after Jesus was born)</div>
        </div>
      </div>

    </div>
  </div>

<script>
(() => {
  // STARFIELD TIMELAPSE
  const starCanvas = document.getElementById('starfield');
  const starCtx = starCanvas.getContext('2d');
  let stars = [];
  let animationId;

  function initStarfield() {
    // Stop any existing animation
    if (animationId) {
      cancelAnimationFrame(animationId);
    }

    // Respect prefers-reduced-motion
    const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    if (prefersReducedMotion) {
      starCtx.clearRect(0, 0, starCanvas.width, starCanvas.height);
      return; // CSS handles the static background
    }
    
    starCanvas.width = window.innerWidth;
    starCanvas.height = window.innerHeight;
    
    stars = [];
    const numStars = 250; // Number of stars in the timelapse
    for (let i = 0; i < numStars; i++) {
      stars.push({
        x: Math.random() * starCanvas.width,
        y: Math.random() * starCanvas.height,
        size: Math.random() * 1.5,
        speed: Math.random() * 0.5 + 0.1, // Speed of movement
        opacity: Math.random() * 0.8 + 0.2
      });
    }
    animateStars();
  }

  function animateStars() {
    // Create trail effect by drawing a semi-transparent black rectangle
    starCtx.fillStyle = 'rgba(5, 9, 22, 0.1)'; // Matches --bg1
    starCtx.fillRect(0, 0, starCanvas.width, starCanvas.height);
    
    starCtx.fillStyle = '#ffffff';
    stars.forEach(star => {
      starCtx.globalAlpha = star.opacity;
      starCtx.beginPath();
      starCtx.arc(star.x, star.y, star.size, 0, Math.PI * 2);
      starCtx.fill();

      // Move star
      star.x -= star.speed;

      // Wrap star around to the other side
      if (star.x < 0) {
        star.x = starCanvas.width;
      }
    });
    starCtx.globalAlpha = 1;

    animationId = requestAnimationFrame(animateStars);
  }

  window.addEventListener('resize', initStarfield);
  initStarfield();


  // SCRATCH-OFF LOGIC (Unchanged from your original)
  const wrap = document.getElementById('wrapScratch');
  const canvas = document.getElementById('scratch');
  const ctx = canvas.getContext('2d', { willReadFrequently: false });

  let drawing = false, lastX = 0, lastY = 0;
  const dpr = Math.max(1, window.devicePixelRatio || 1);

  function resize(){
    const r = wrap.getBoundingClientRect();
    canvas.width  = Math.floor(r.width  * dpr);
    canvas.height = Math.floor(r.height * dpr);
    canvas.style.width  = r.width  + "px";
    canvas.style.height = r.height + "px";
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
    paint(r.width, r.height);
  }

  // Silver foil scratch layer (metallic gradient + brushed streaks + light speckle)
  function paint(w, h){
    ctx.globalCompositeOperation = "source-over";

    // base metallic gradient
    const g = ctx.createLinearGradient(0, 0, w, h);
    g.addColorStop(0.00, "#e7eaee");
    g.addColorStop(0.18, "#cfd3d9");
    g.addColorStop(0.38, "#f3f5f7");
    g.addColorStop(0.62, "#c6cbd2");
    g.addColorStop(0.82, "#eef1f4");
    g.addColorStop(1.00, "#cdd1d7");
    ctx.fillStyle = g;
    ctx.fillRect(0, 0, w, h);

    // brushed foil streaks (diagonal micro-lines)
    ctx.globalAlpha = 0.35;
    for (let i = -h; i < w + h; i += 6) {
      const shade = 200 + Math.floor(Math.random() * 35); // 200-234
      ctx.strokeStyle = `rgba(${shade},${shade},${shade},0.35)`;
      ctx.lineWidth = 1;
      ctx.beginPath();
      ctx.moveTo(i, 0);
      ctx.lineTo(i + h, h);
      ctx.stroke();
    }
    ctx.globalAlpha = 1;

    // subtle grain speckle
    ctx.fillStyle = "rgba(0,0,0,.07)";
    for(let i=0;i<850;i++){
      const x=Math.random()*w, y=Math.random()*h, rr=Math.random()*1.2;
      ctx.beginPath(); ctx.arc(x,y,rr,0,Math.PI*2); ctx.fill();
    }

    // a few soft "shine" bands
    ctx.globalAlpha = 0.18;
    for (let b=0; b<3; b++){
      const y = (h * (0.25 + b*0.22)) + (Math.random()*10-5);
      const band = ctx.createLinearGradient(0, y-20, 0, y+20);
      band.addColorStop(0, "rgba(255,255,255,0)");
      band.addColorStop(0.5, "rgba(255,255,255,0.55)");
      band.addColorStop(1, "rgba(255,255,255,0)");
      ctx.fillStyle = band;
      ctx.fillRect(0, y-22, w, 44);
    }
    ctx.globalAlpha = 1;

    // centered instruction
    ctx.textAlign = "center";
    ctx.fillStyle = getComputedStyle(document.documentElement).getPropertyValue('--scratchInk').trim();
    ctx.font = "900 20px system-ui, -apple-system, BlinkMacSystemFont";
    ctx.fillText("SCRATCH", w/2, h/2 + 6);

    // switch to erase mode for scratching
    ctx.globalCompositeOperation = "destination-out";
  }

  function pt(e){
    const r = canvas.getBoundingClientRect();
    const t = e.touches?.[0] || e;
    return { x: t.clientX - r.left, y: t.clientY - r.top };
  }

  function scratchTo(x, y){
    ctx.lineCap = "round";
    ctx.lineJoin = "round";
    ctx.lineWidth = 44;
    ctx.beginPath();
    ctx.moveTo(lastX, lastY);
    ctx.lineTo(x, y);
    ctx.stroke();

    ctx.beginPath();
    ctx.arc(x, y, 22, 0, Math.PI*2);
    ctx.fill();

    lastX = x; lastY = y;
  }

  function stop(){ drawing = false; }

  function start(e){
    drawing = true;
    const p = pt(e);
    lastX = p.x; lastY = p.y;
    scratchTo(p.x, p.y);
  }

  function move(e){
    if(!drawing) return;
    e.preventDefault(); // prevent page scroll while scratching
    const p = pt(e);
    scratchTo(p.x, p.y);
  }

  canvas.addEventListener('pointerdown', start, {passive:true});
  canvas.addEventListener('pointermove', move, {passive:false});
  canvas.addEventListener('pointerup', stop);
  canvas.addEventListener('pointercancel', stop);
  canvas.addEventListener('pointerleave', stop);

  window.addEventListener('resize', resize);
  resize();
})();
</script>
</body>
</html>
