<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>üéÑ</title>

<style>
:root{
  --bg:#f6efe6;
  --ink:#3a2f2a;
  --muted:#6f5f55;
  --gold:#c6a55b;
  --card:#fffaf2;
}

*{box-sizing:border-box}

body{
  margin:0;
  min-height:100vh;
  background:
    radial-gradient(circle at top, #fff 0%, var(--bg) 65%);
  font-family: "Cormorant Garamond", Georgia, serif;
  color:var(--ink);
  display:grid;
  place-items:center;
}

.card{
  width:min(720px,92vw);
  background:var(--card);
  border:2px solid var(--gold);
  padding:48px 40px 56px;
  text-align:center;
  position:relative;
}

.card::before,
.card::after{
  content:"‚ú¶";
  position:absolute;
  color:var(--gold);
  font-size:22px;
}
.card::before{top:18px; left:50%; transform:translateX(-50%)}
.card::after{bottom:18px; left:50%; transform:translateX(-50%)}

.symbols{
  display:flex;
  justify-content:space-between;
  align-items:center;
  font-size:22px;
  color:var(--gold);
  margin-bottom:28px;
}
.symbols span{width:33%; text-align:center}

.from{
  font-variant:small-caps;
  letter-spacing:.12em;
  color:var(--muted);
  margin-bottom:36px;
}

.nameWrap{
  position:relative;
  width:100%;
  max-width:420px;
  margin:0 auto 30px;
}

.nameReveal{
  font-size:64px;
  font-weight:700;
  letter-spacing:.04em;
}

canvas{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  touch-action:none;
}

.scripture{
  font-style:italic;
  color:var(--muted);
  margin-top:30px;
  font-size:18px;
}

.footer{
  margin-top:26px;
  font-variant:small-caps;
  letter-spacing:.14em;
  font-size:14px;
  color:var(--muted);
}
</style>
</head>

<body>

<div class="card">

  <div class="symbols">
    <span>‚ú∂ Star</span>
    <span>‚úùÔ∏é Christ</span>
    <span>‚ù¶ Lamb</span>
  </div>

  <div class="from">
    A Christmas Gift from<br>
    <strong>Uncle Dantan &amp; Auntie Hannie</strong>
  </div>

  <!-- SCRATCH AREA -->
  <div class="nameWrap" id="wrap">
    <div class="nameReveal">RECIPIENT_NAME</div>
    <canvas id="scratch"></canvas>
  </div>

  <div class="scripture">
    ‚ÄúFor unto us a Child is born.‚Äù ‚Äî Isaiah 9:6
  </div>

  <div class="footer">
    Christmas ‚Ä¢ Peace ‚Ä¢ Emmanuel
  </div>

</div>

<script>
(() => {
  const wrap = document.getElementById('wrap');
  const canvas = document.getElementById('scratch');
  const ctx = canvas.getContext('2d');
  let drawing=false,lastX=0,lastY=0;

  function resize(){
    const r = wrap.getBoundingClientRect();
    canvas.width = r.width * devicePixelRatio;
    canvas.height = r.height * devicePixelRatio;
    canvas.style.width = r.width+"px";
    canvas.style.height = r.height+"px";
    ctx.setTransform(devicePixelRatio,0,0,devicePixelRatio,0,0);
    paint();
  }

  function paint(){
    ctx.globalCompositeOperation='source-over';
    ctx.fillStyle='#c9b89e';
    ctx.fillRect(0,0,canvas.width,canvas.height);
    ctx.fillStyle='rgba(255,255,255,.35)';
    ctx.font='700 18px serif';
    ctx.textAlign='center';
    ctx.fillText('SCRATCH', wrap.clientWidth/2, wrap.clientHeight/2);
    ctx.globalCompositeOperation='destination-out';
  }

  function point(e){
    const r=canvas.getBoundingClientRect();
    const t=e.touches?.[0]||e;
    return {x:t.clientX-r.left,y:t.clientY-r.top};
  }

  function start(e){
    e.preventDefault();
    drawing=true;
    const p=point(e);
    lastX=p.x; lastY=p.y;
  }
  function move(e){
    if(!drawing)return;
    e.preventDefault();
    const p=point(e);
    ctx.lineWidth=36;
    ctx.lineCap='round';
    ctx.beginPath();
    ctx.moveTo(lastX,lastY);
    ctx.lineTo(p.x,p.y);
    ctx.stroke();
    lastX=p.x; lastY=p.y;
  }
  function end(){drawing=false}

  canvas.addEventListener('pointerdown',start,{passive:false});
  canvas.addEventListener('pointermove',move,{passive:false});
  window.addEventListener('pointerup',end);
  window.addEventListener('resize',resize);

  resize();
})();
</script>

</body>
</html>
